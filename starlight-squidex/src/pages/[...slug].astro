---
import { getPost } from "../lib/api";

export function getStaticPaths() {
  return [
    { params: { slug: "ibis-wembley" } },
    { params: { slug: "jianguo-hotel-qianmen" } },
    { params: { slug: undefined } },
  ];
}

const { slug } = Astro.params;

const { posts } = await getPost(slug);
if (!posts || posts.length > 1) return Astro.redirect("/404");

const post = posts?.[0].flatData;
---

<article set:html={post.description} />
